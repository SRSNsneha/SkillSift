<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Resume Analyzer</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="./static/feature2.css">
</head>
<body>
  <div class="container">
    <h1>RÃ©sumÃ© Analyzer</h1>

    <!-- Toggle Instructions Button -->
    <button onclick="toggleInstructions()" style="margin-bottom: 10px;">â“ How to Use This Feature</button>

    <!-- Instruction Box -->
    <div id="instructionsBox" style="display: none; background: #fffbe6; color: #333; padding: 10px; border-left: 4px solid orange; margin-bottom: 20px;">
      <p><strong>ğŸ“˜ Instructions:</strong></p>
      <ul>
        <li> Under the <strong>â€œUpload Resumesâ€</strong> section:
          <ul>
            <li>Enter a unique <strong>Resume ID</strong> (e.g.,xyz_amazon).</li>
            <li>Upload one or more PDF resumes under this ID.</li>
          </ul>
        </li>
        <li> Under the <strong>â€œAnalyze Resumesâ€</strong> section:
          <ul>
            <li>Enter the same Resume ID you used earlier.</li>
            <li>Paste the job description and click Analyze.</li>
          </ul>
        </li>
        <li> Want to start over with new resumes?
          <ul>
            <li>Use the same Resume ID and click <strong>"ğŸ§¹ Clear All Resumes"</strong> to remove the old ones.</li>
            <li>You can then re-upload under the same ID for a fresh comparison.</li>
          </ul>
        </li>
      </ul>
    </div>

    <!-- Upload Section -->
    <h2><i class="fa-solid fa-cloud-arrow-up fa-bounce"></i> Upload Resumes</h2>
    <input type="text" id="name_id" name="name_id" placeholder="Enter Resume ID" required>
    <button onclick="checkUserIdBeforeUpload()">Next</button>
    <div id="user-check-msg" style="display: none; color: red; margin-top: 10px;"></div>
    <div id="new-user-msg" style="display: none; color: green; margin-top: 10px;"></div>

    <form id="uploadForm" style="display: none; margin-top: 15px;">
      <label for="file">Upload Resume (PDF):</label>
      <input type="file" name="file" id="file" required>
      <input type="hidden" name="name_id" id="hidden_user_id">
      <button type="submit">Upload</button>
      <p id="uploadMsg" class="status"></p>
    </form>

    <!--  Analyze Section -->
    <h2><i class="fa-brands fa-searchengin fa-bounce"></i> Analyze Resumes</h2>
    <form id="analyzeForm">
      <input type="text" id="analyze_user_id" placeholder="Enter your Resume ID" required>
      <textarea id="required_skills" rows="6" placeholder="Paste job description here..." required></textarea>
      <button type="submit">Analyze</button>
    </form>

    <!--  Results -->
    <div id="results"></div>

    <!-- Clear Button -->
    <button id="clearBtn">ğŸ§¹ Clear All Resumes</button>
  </div>

  <script>
    function toggleInstructions() {
      const box = document.getElementById("instructionsBox");
      box.style.display = box.style.display === "none" ? "block" : "none";
    }
  </script>
  <script src="./static/feature2.js"></script>
</body>
</html>
